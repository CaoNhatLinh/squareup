{
  "rules": {
    "restaurants": {
      ".indexOn": [
        "name",
        "createdAt",
        "slug"
      ],
      ".read": "query.orderByChild == 'slug' && query.equalTo != null",
      "$restaurantId": {
        ".read": true,
        ".write": true,
        "staff": {
          ".indexOn": [
            "email",
            "roleId"
          ]
        },
        "orders": {
          ".indexOn": [
            "createdAt",
            "status",
            "sessionId"
          ],
          "$orderId": {
            ".read": true,
            ".write": true
          }
        },
        "tables": {
          ".read": true,
          ".write": "auth != null",
          ".indexOn": [
            "isActive",
            "tableNumber",
            "status"
          ]
        }
      }
    },
    "categories": {
      "$restaurantId": {
        ".indexOn": [
          "displayOrder",
          "name"
        ],
        ".read": true,
        ".write": true
      }
    },
    "pendingOrders": {
      ".indexOn": [
        "createdAt"
      ]
    },
    "items": {
      "$restaurantId": {
        ".indexOn": [
          "name",
          "categoryId"
        ],
        ".read": true,
        ".write": true
      }
    },
    "modifiers": {
      "$restaurantId": {
        ".read": true,
        ".write": true
      }
    },
    "users": {
      ".indexOn": [
        "guestUuid",
        "role",
        "email"
      ],
      "$userId": {
        ".read": true,
        ".write": true
      }
    },
    "invitations": {
      ".indexOn": [
        "email",
        "token",
        "status",
        "restaurantId"
      ]
    }
  }
}